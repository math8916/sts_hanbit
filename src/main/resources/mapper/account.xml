<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mapper.account">
	<select id="findAccount" resultType="com.hanbit.web.bank.AccountVO">	
	select account, money, id, name, ssn from bank_member order by name
	</select>
	
	<select id="findByAcc" parameterType="string" resultType="com.hanbit.web.bank.AccountVO">
	select * from account where account = #{account}
		</select>
	<select id="findByName" parameterType="string" resultType="com.hanbit.web.bank.AccountVO">
	select * from account where name = #{name}
		</select>
	<select id="count"  resultType="int">
	select count(*) as count from account
		</select>
	
	<select id="existId" parameterType="string" resultType="int">
	select count(*) as count from account where id = #{id}
		</select>
	
	<insert id="insert" parameterType="com.hanbit.web.bank.AccountVO" >
	insert into account(id, account_no, money) 
				+ values(#{id},#{account_no},#{money});
	</insert>
	
	<update id="deposit" parameterType="com.hanbit.web.bank.AccountVO">
	update account set money = money + #{money} where account_no = #{accountNo}
	</update>
	<update id="withDraw" parameterType="com.hanbit.web.bank.AccountVO">
	update account set money = money - #{money} where account_no = #{accountNo}
	</update>
	<update id="update" parameterType="com.hanbit.web.member.MemberVO">
	update member set pw = #{pw}, email = #{email} where id = #{id}
	</update>
	<delete id="delete" parameterType="com.hanbit.web.bank.AccountVO">
	delete from bank where account_no = #{account_no}
	</delete>
  
  
</mapper>